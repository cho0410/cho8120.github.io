<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!-- Animate CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css"
    />

    <!-- font-awesome CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />

    <link rel="stylesheet" href="../css/reset.css" />
    <link rel="stylesheet" href="../css/main2.css" />
  </head>

  <body>
    <div id="contents">
      <section id="section1" class="content__item">section1</section>
      <section id="section2" class="content__item">section2</section>
      <section id="section3" class="content__item">section3</section>
      <section id="section4" class="content__item">
        <div class="sec4">
          <article class="cont1">cont1</article>
          <article class="cont2">cont2</article>
          <article class="cont3">cont3</article>
          <article class="cont4">cont4</article>
        </div>
      </section>
      <section id="section5" class="content__item">section5</section>
      <section id="section6" class="content__item">section6</section>
      <section id="section7" class="content__item">section7</section>
    </div>

    <script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>
    <script>
      function scroll() {
        let scrollTop =
          window.pageYOffset ||
          document.documentElement.scrollTop ||
          window.scrollY;

        //4번째 섹션에 왔을 때 스크롤탑을 0으로 초기화해서 시작
        let offset = scrollTop - document.querySelector("#section4").offsetTop;

        if (scrollTop >= document.querySelector("#section4").offsetTop) {
          //document.querySelector(".sec4").style.backgroundColor = "blue";
          gsap.to(".sec4", { left: -offset, ease: "linear" });
        }

        requestAnimationFrame(scroll);
      }
      scroll();
    </script>
  </body>
</html>
